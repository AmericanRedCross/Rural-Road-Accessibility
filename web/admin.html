<!DOCTYPE html>
<meta charset="utf-8" lang="en">
<head>
<title>Rural accessibility map, result view</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href='https://fonts.googleapis.com/css?family=Overlock' rel='stylesheet' type='text/css'>  
  <link href="./src/bootstrap/dist/css/bootstrap.min.css"  rel='stylesheet' type='text/css'/>
  <link href='./style/style.css' rel='stylesheet' type='text/css'/>
  <script src="./src/d3/d3.min.js" charset="utf-8"></script>
  <script src='./src/queue.v1.min.js' type='text/javascript'></script>
  <script src="./src/socket.io-client/socket.io.js"></script>
  <script src="./src/socketio-file-upload/client.min.js" charset="utf-8"></script>
  <script src="./src/jquery/dist/jquery.min.js"></script>
  <script src="./src/jquery.i18n.properties.min.js" type="text/javascript"  charset="utf-8"></script>
  <script src="./src/util.js" type="text/javascript"  charset="utf-8"></script>
  
</head>
<body>
<div class="container-fluid inhoud">
  <div class="page-header">
  <h2>
  <a href="/"><img src="../style/logo.png"/></a>
  <small>adminstrative interface</small></h2>
  <div id="switcher" class="pull-right clear-fix"><span id="users"></span><span id="lng_en"><script>t('#lng_en','lng_en')</script></span> <span id="lng_zh"><script>t('#lng_zh','lng_zh')</script></span></div>
</div>
<div class="row">
   <div class="col-md-2 col-sm-4">  
<div id="configList"></div>
<div id="newConfig" class="btn btn-success disabled">New project</div>
</div>
<div class="col-md-10 col-sm-8">  

<div id="configScreen"></div>
<div id="newConfigScreen">

</div>
</div>
</div>
</div>
<div id="logfield"></div>
  <script src="./src/admin.js" type="text/javascript" charset="utf-8"></script>
  <script src="./src/socket.js" type="text/javascript" charset="utf-8"></script>

</body>
<template id="uploadBaselineTemplate">
<div class="form-group" >
<label for="newBaseLineFiles">Baseline files</label>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          OSM file:
        </div>
        <div class="col-xs-8">
 

         <div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary">
              Browse&hellip; <input type="file" id="newOSMFile" style="display: none;">
            </span>
          </label>
          <input type="text" class="form-control" style="cursor:not-allowed" readonly>
         </div>
        </div>
        <span class="label label-info">*.pbf file</span>
      </div>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          Profile file:
        </div>
        <div class="col-xs-8">
         <div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary">
              Browse&hellip; <input type="file" id="newProfileFile" style="display: none;">
            </span>
          </label>
          <input type="text" class="form-control" style="cursor:not-allowed" readonly>
         </div>
        </div>
        <span class="label label-info">*.lua file</span>
      </div>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          Villages file:
        </div>
        <div class="col-xs-8">
         <div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary">
              Browse&hellip; <input type="file" id="newVillageFile" style="display: none;">
            </span>
          </label>
          <input type="text" class="form-control" style="cursor:not-allowed" readonly>
        </div>
      </div>
      <span class="label label-info">*.geojson file</span>
    </div>
    </div>
     <div class="form-group">
    <label for="newThumbnailFile">Thumbnail file:</label>
    <div class="input-group col-xs-12">
     <div class="col-xs-8">
      <div class="input-group">
        <label class="input-group-btn">
          <span class="btn btn-primary">
            Browse&hellip; <input type="file" id="newThumbnailFile" style="display: none;">
          </span>
        </label>
        <input type="text" class="form-control" style="cursor:not-allowed" readonly>
      </div>
      </div>
      <span class="label label-info">*.geojson file</span>
    </div>
</template>
<template id="showBaselineTemplate">
<div class="form-group" >
<label for="newBaseLineFiles">Baseline files</label>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          OSM file:
        </div>
        <div class="col-xs-8">
          <span id="osmFileName"></span>
        </div>
       
      </div>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          Profile file:
        </div>
        <div class="col-xs-8">
          <span id="profileFileName"></span>
        </div>
      </div>
      <div class="input-group col-xs-12">
        <div class="col-xs-2">
          Villages file:
        </div>
        <div class="col-xs-8">
          <span id="villagesFileName"></span>
        </div>
    </div>
     </div>
     <div class="form-group">
    <label for="newThumbnailFile">Thumbnail file:</label>
    <div class="input-group col-xs-12">
        <div class="col-xs-2">
          Thumbnail file:
        </div>
        <div class="col-xs-8">
          <span id="thumbnailFileName"></span>
        </div>
       
      </div>
    </div>
</template>

<template id="configTemplate">
  <form>
    <div class="form-group">
    <label for="newProjectName">Project Name</label>
    <input type="text" class="form-control" id="newProjectName" placeholder="Name" onchange="updateName(this)">
    </div>
    <div class="form-group">
    <label for="newPopulationAttribute">Population Attribute</label>
    <input type="text" class="form-control" id="newPopulationAttribute" placeholder="population" onchange="updatePopulation(this)">
    </div>
    <div id="baselineFiles">
    
      
  </div>
 
    <div class="form-group">
      <label for="newPOIname">POI files</label>
      <table class="table table-striped">
      <thead><th>POI name</th><th>File name</th><th></th></thead>
      <tbody id="existingPOIs">
      </tbody>
      <tfoot>
      <tr id="poiInput">
        <td><input type="text" class="form-control" id="newPOIname" pattern="[a-zA-Z][a-zA-Z0-9]*" required placeholder="POI name"></td>
        <td><div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary">
              Browse&hellip; <input required type="file" id="newPoiFile" style="display: none;">
            </span>
          </label>
          <input type="text" class="form-control" required style="cursor:not-allowed" readonly placeholder="Select a file">
        </div>
        </td>
        <td><input class="btn btn-success"  type="button" value="Add POI" onclick="uploadPoi(this)"></td>
        </tr>
      </tfoot>
      </table>
      
    </div>

    <div class="form-group">
    <label for="newStat">Statistics settings</label>
     <table class="table table-striped">
      <thead><th>POI name</th><th># minutes</th><th></th></thead>
      <tbody id="existingStats">
      </tbody>
      <tfoot>
        <td><input type="text" class="form-control" required pattern="[a-zA-Z][a-zA-Z0-9]*" placeholder="POI"></td>
        <td><input type="number" class="form-control" required placeholder="60" value="60"></td>
        <td><input class="btn btn-success" type="button" value="Add Statistics" onclick="addStatistics(this)"></td>
      </tfoot>
     </table>
    
    </div>
    <div class="form-group">
      <label for="newLevelFiles">Level files</label>
       <table class="table table-striped">
      <thead><th>Level name</th><th>Geometry ID</th><th>File name</th><th></th></thead>
      <tbody id="existingLevels"></tbody>
      <tfoot>
      <tr id="levelInput">
        <td><input type="text" class="form-control" id="newLevelName" placeholder="Level name"></td>
        <td><input type="text" class="form-control" id="newLevelGeom" placeholder="Geometry ID"></td>
        <td>
         <div class="input-group">
          <label class="input-group-btn">
            <span class="btn btn-primary">
              Browse&hellip; <input type="file" id="newLevelFile" style="display: none;">
            </span>
          </label>
          <input type="text" class="form-control" style="cursor:not-allowed" readonly>
        </div>
        </td>
        <td><input class="btn btn-success"  type="button" value="Add Level" onclick="uploadLevel(this)"></td>
        </tr>
        </tfoot>
        </table>
    </div>
    <div class="form-group">
    <label for="newMaxSpeed">Maximum roadspeed</label>
    <div class="input-group">
      <div class="col-xs-10">
    <input type="number" class="form-control" id="newMaxSpeed" value="120" onchange="updateSpeed(this)">
    </div><div class="col-xs-2">km/h</div>
    </div>
    </div>
    <div class="form-group">
    <label for="newMaxtime">Maximum traveltime</label>
    <div class="input-group">
      <div class="col-xs-10">
    <input type="number" class="form-control" id="newMaxtime" value="3600" onchange="updateTime(this)">
    </div><div class="col-xs-2">seconds</div>
    </div>
    </div>
    <div class="form-group">    
   <div class="btn-group" role="group" aria-label="...">
  <button type="button" class="btn btn-danger" id="cancelConfig" onclick="cancelConf(this)">Cancel</button>
  <button type="button" class="btn btn-success" id="saveConfig" onclick="saveConf(this)">Save config</button>
</div>
    </div>
  </form>
</template>